(this["webpackJsonpdan-lab-ui"]=this["webpackJsonpdan-lab-ui"]||[]).push([[0],{18:function(e,t,n){},21:function(e,t,n){},27:function(e,t,n){},44:function(e,t,n){},70:function(e,t,n){},71:function(e,t,n){"use strict";n.r(t);var a=n(4),c=n(1),r=n(17),o=(n(44),n(3)),i=n(10),s=n(6),l=n(12),u=(n(18),n(0)),j=function(e){var t=e.opciones,n=e.value,a=e.onChange,c=e.label,r=e.name,o=t?t.map((function(e,t){return Object(u.jsx)("option",{value:e,children:e},t)})):Object(u.jsx)(u.Fragment,{});return Object(u.jsxs)("div",{className:"row",children:[Object(u.jsx)(d,{value:c}),Object(u.jsx)("div",{className:"col-75",children:Object(u.jsx)("select",{name:r,value:n,onChange:a,children:o})})]})},d=function(e){var t=e.value;return Object(u.jsx)("div",{className:"col-25 form-label",children:Object(u.jsx)("label",{children:t})})},b=function(e){var t=e.value,n=e.onChange,a=e.label,c=e.name,r=e.pattern,o=e.readOnly;return Object(u.jsxs)("div",{className:"row",children:[Object(u.jsx)(d,{value:a}),Object(u.jsx)("div",{className:"col-75",children:Object(u.jsx)("input",{name:c,pattern:r,value:t,onChange:n,readOnly:o})})]})},p=function(e){var t=e.action,n=e.label;return Object(u.jsx)("div",{className:"col-50",children:Object(u.jsx)("button",{type:"button",onClick:t,children:n})})},O=function(e){var t=e.cliente,n=e.actualizarCliente,a=e.saveOrUpdate,c=e.clean,r=function(e){var t=e.target.name,a="checkbox"===e.target.type?e.target.checked:e.target.value;e.target.validity.valid&&n(t,a)};return Object(u.jsxs)("form",{className:"form-box container",children:[Object(u.jsxs)("div",{className:"row",children:[Object(u.jsx)(d,{value:"Razon Social"}),Object(u.jsx)("div",{className:"col-75",children:Object(u.jsx)("input",{name:"razonSocial",value:t.razonSocial,onChange:r})})]}),Object(u.jsxs)("div",{className:"row",children:[Object(u.jsx)(d,{value:"Cuit"}),Object(u.jsx)("div",{className:"col-75",children:Object(u.jsx)("input",{type:"text",pattern:"[0-9]*",name:"cuit",value:t.cuit,onChange:r})})]}),Object(u.jsxs)("div",{className:"row",children:[Object(u.jsx)(d,{value:"Email"}),Object(u.jsx)("div",{className:"col-75",children:Object(u.jsx)("input",{name:"mail",value:t.mail,onChange:r})})]}),Object(u.jsxs)("div",{className:"row",children:[Object(u.jsx)(d,{value:"Maximo Descubierto"}),Object(u.jsx)("div",{className:"col-75",children:Object(u.jsx)("input",{type:"text",pattern:"[0-9.]*",name:"maxCuentaCorriente",value:t.maxCuentaCorriente,onChange:r})})]}),Object(u.jsxs)("div",{className:"row",children:[Object(u.jsx)(d,{value:"Habilitado Online"}),Object(u.jsx)("div",{className:"col-75",children:Object(u.jsx)("input",{name:"habilitadoOnline",type:"checkbox",checked:t.habilitadoOnline,onChange:r})})]}),Object(u.jsxs)("div",{className:"row",children:[Object(u.jsx)(p,{label:"Cancelar action",action:c}),Object(u.jsx)(p,{label:"Guardar",action:function(){return a()}})]})]})},m=function(e){var t=e.titulo,n=void 0===t?"":t,a=e.encabezado,c=e.filas;return Object(u.jsxs)("div",{children:[Object(u.jsx)("h2",{children:n}),Object(u.jsxs)("table",{children:[Object(u.jsx)("thead",{children:Object(u.jsx)("tr",{children:a})}),Object(u.jsx)("tbody",{children:c})]})]})},f=function(e){var t=e.children;return Object(u.jsx)("th",{children:t})},h=function(e){var t=e.children;return Object(u.jsx)("tr",{children:t})},x=function(e){var t=e.dato;return Object(u.jsx)("td",{className:"celdaTabla",children:t})},v=function(e){var t=e.titulo,n=e.accion;return Object(u.jsx)("td",{className:"celdaTabla",children:Object(u.jsx)("button",{onClick:n,children:t})})},g=(n(21),n(27),n(39)),N=n(2),k=n.n(N),w=n(5),C=n(19),S=n.n(C),y="http://localhost",E="producto",I="pedido",P="obra",z="detallepedido",A="liquidacion",D="cliente",T="empleado",F={"Access-Control-Allow-Origin":"*","Access-Control-Allow-Methods":"GET, POST, PATCH, PUT, DELETE, OPTIONS","Access-Control-Allow-Headers":"Origin, X-Requested-With, Content-Type, Accept"},L=function(){var e=Object(w.a)(k.a.mark((function e(t){var n,a,c,r,o,i,s;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.username,a=t.password,c="".concat(y,":8181/login"),e.prev=2,e.next=5,S.a.post(c,{username:n,password:a},{headers:F});case 5:if(r=e.sent,o=r.data,i=r.status,"string"!==typeof o&&200===i){e.next=12;break}throw 404===i&&localStorage.removeItem("token"),new Error(o);case 12:return e.abrupt("return",o);case 13:e.next=19;break;case 15:e.prev=15,e.t0=e.catch(2),s="".concat(e.t0.response?e.t0.message:e.t0),console.log("Error en el login: ",{method:"login",URL:c,message:s});case 19:case"end":return e.stop()}}),e,null,[[2,15]])})));return function(t){return e.apply(this,arguments)}}(),R=function(){var e=Object(w.a)(k.a.mark((function e(){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ie("".concat(P)));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),U=function(){var e=Object(w.a)(k.a.mark((function e(t){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",re("".concat(P),t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),q=function(){var e=Object(w.a)(k.a.mark((function e(t){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",oe("".concat(P,"/").concat(t.id),t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),M=function(){var e=Object(w.a)(k.a.mark((function e(){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ie("".concat(I)));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),G=function(){var e=Object(w.a)(k.a.mark((function e(t){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",re("".concat(I),t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),_=function(){var e=Object(w.a)(k.a.mark((function e(t){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",oe("".concat(I,"/").concat(t.id),t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),B=function(){var e=Object(w.a)(k.a.mark((function e(t,n){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",re("".concat(z,"/?idPedido=").concat(n.id),t));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),H=function(){var e=Object(w.a)(k.a.mark((function e(t){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",oe("".concat(z),t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),V=function(){var e=Object(w.a)(k.a.mark((function e(t){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",se("".concat(z,"/id?idDetalle=").concat(t.id)));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),J=function(){var e=Object(w.a)(k.a.mark((function e(){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ie("".concat(E)));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),K=function(){var e=Object(w.a)(k.a.mark((function e(t){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",re("".concat(E),t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),W=function(){var e=Object(w.a)(k.a.mark((function e(t){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",oe("".concat(E),t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),X=function(){var e=Object(w.a)(k.a.mark((function e(){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ie("".concat(A)));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Z=function(){var e=Object(w.a)(k.a.mark((function e(){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",re("".concat(A,"/todos")));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Q=function(){var e=Object(w.a)(k.a.mark((function e(t){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",re("".concat(A,"/empleado?idEmpleado=").concat(t.id)));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Y=function(){var e=Object(w.a)(k.a.mark((function e(t){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",re("".concat(A,"/sueldo"),t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),$=function(){var e=Object(w.a)(k.a.mark((function e(t){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ie("".concat(A,"/empleado/sueldo?idEmpleado=").concat(t.id)));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ee=function(){var e=Object(w.a)(k.a.mark((function e(){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ie("".concat(D)));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),te=function(){var e=Object(w.a)(k.a.mark((function e(t){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",re("".concat(D),t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ne=function(){var e=Object(w.a)(k.a.mark((function e(t){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",oe("".concat(D),t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ae=function(){var e=Object(w.a)(k.a.mark((function e(){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ie("".concat(T)));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ce=function(){var e=localStorage.getItem("token");return Object(a.a)(Object(a.a)({},F),{},{Authorization:"Bearer ".concat(e)})},re=function(){var e=Object(w.a)(k.a.mark((function e(t,n){var a,c,r,o,i;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="".concat(y,"/api/").concat(t),console.log({post_request:a,data:n}),e.prev=2,e.next=5,S.a.post(a,n,{headers:ce()});case 5:if(c=e.sent,r=c.data,o=c.status,"string"!==typeof r&&200===o){e.next=12;break}throw 401===o&&(localStorage.removeItem("token"),localStorage.removeItem("username")),new Error(r);case 12:return console.log({post_response:a,dataResponse:r}),e.abrupt("return",r);case 14:e.next=20;break;case 16:e.prev=16,e.t0=e.catch(2),i="".concat(e.t0.response?e.t0.message:e.t0),console.log("Error en m\xe9todo: ",{method:"POST",URL:a,message:i,error:e.t0.response});case 20:case"end":return e.stop()}}),e,null,[[2,16]])})));return function(t,n){return e.apply(this,arguments)}}(),oe=function(){var e=Object(w.a)(k.a.mark((function e(t,n){var a,c,r,o,i;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="".concat(y,"/api/").concat(t),console.log({put_request:a,data:n}),e.prev=2,e.next=5,S.a.put(a,n,{headers:ce()});case 5:if(c=e.sent,r=c.data,o=c.status,"string"!==typeof r&&200===o){e.next=12;break}throw 401===o&&(localStorage.removeItem("token"),localStorage.removeItem("username")),new Error(r);case 12:return console.log({put_response:a,dataResponse:r}),e.abrupt("return",r);case 14:e.next=20;break;case 16:e.prev=16,e.t0=e.catch(2),i="".concat(e.t0.response?e.t0.message:e.t0),console.log("Error en m\xe9todo: ",{method:"PUT",URL:a,message:i,error:e.t0.response});case 20:case"end":return e.stop()}}),e,null,[[2,16]])})));return function(t,n){return e.apply(this,arguments)}}(),ie=function(){var e=Object(w.a)(k.a.mark((function e(t){var n,a,c,r,o;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat(y,":8181/api/").concat(t),console.log({get_request:n}),e.prev=2,e.next=5,S.a.get(n,{headers:ce()});case 5:if(a=e.sent,c=a.data,r=a.status,"string"!==typeof c&&200===r){e.next=12;break}throw 401===r&&(localStorage.removeItem("token"),localStorage.removeItem("username")),new Error(c);case 12:return console.log("Error en m\xe9todo: ",{get_response:n,dataResponse:c}),e.abrupt("return",c);case 14:e.next=20;break;case 16:e.prev=16,e.t0=e.catch(2),o="".concat(e.t0.response?e.t0.message:e.t0),console.error({method:"GET",URL:n,message:o,error:e.t0.response});case 20:case"end":return e.stop()}}),e,null,[[2,16]])})));return function(t){return e.apply(this,arguments)}}(),se=function(){var e=Object(w.a)(k.a.mark((function e(t){var n,a,c,r,o,i;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat(y,"/api/").concat(t),console.log({delete_request:n}),e.prev=2,a=[].concat(Object(g.a)(F),[{Authorization:"Bearer ".concat(window.accessToken)}]),e.next=6,S.a.delete(n,{headers:a});case 6:if(c=e.sent,r=c.data,o=c.status,"string"!==typeof r&&200===o){e.next=13;break}throw 401===o&&(localStorage.removeItem("token"),localStorage.removeItem("username")),new Error(r);case 13:return console.log("Error en m\xe9todo: ",{delete_response:n,dataResponse:r}),e.abrupt("return",r);case 15:e.next=21;break;case 17:e.prev=17,e.t0=e.catch(2),i="".concat(e.t0.response?e.t0.message:e.t0),console.error({method:"DELETE",URL:n,message:i,error:e.t0.response});case 21:case"end":return e.stop()}}),e,null,[[2,17]])})));return function(t){return e.apply(this,arguments)}}(),le={razonSocial:"-",habilitadoOnline:!0,maxCuentaCorriente:0,mail:"",cuit:""},ue=function(){var e=Object(c.useState)(le),t=Object(o.a)(e,2),n=t[0],r=t[1],i=Object(c.useState)([]),j=Object(o.a)(i,2),d=j[0],b=j[1],p=Object(s.f)();Object(c.useEffect)((function(){localStorage.getItem("token")?ee().then((function(e){e&&b(e)})):p.push(De.login[2])}),[p]);var g=function(){ee().then((function(e){e&&b(e)}))},N=["ID Usuario","Raz\xf3n Social","e-mail",""].map((function(e,t){return Object(u.jsx)(f,{children:e},t)}));return Object(u.jsxs)("div",{className:"box",children:[Object(u.jsx)("div",{children:Object(u.jsx)("h1",{children:"Gestion de clientes"})}),Object(u.jsx)("div",{className:"panelForm",children:Object(u.jsx)("div",{className:"panelFormAlta",children:Object(u.jsx)(O,{cliente:n,actualizarCliente:function(e,t){var c=Object(a.a)(Object(a.a)({},n),{},Object(l.a)({},e,t));r(c)},saveOrUpdate:function(){n.id?ne(n).then((function(){return g()})):te(n).then((function(){return g()})),r(le)},clean:function(){r(le)}})})}),Object(u.jsx)("div",{className:"panel",children:Object(u.jsx)(m,{encabezado:N,filas:d?d.map((function(e,t){return Object(u.jsxs)(h,{children:[Object(u.jsx)(x,{dato:e.id}),Object(u.jsx)(x,{dato:e.razonSocial}),Object(u.jsx)(x,{dato:e.mail}),Object(u.jsx)(v,{titulo:"Seleccionar",accion:function(){return r(e)}})]},t)})):Object(u.jsx)(u.Fragment,{})})})]})},je=n(16),de=function(e){var t=e.logged,n=e.setLogged,a=Object(c.useState)(""),r=Object(o.a)(a,2),i=r[0],s=r[1],l=Object(c.useState)(""),j=Object(o.a)(l,2),b=j[0],p=j[1],O=Object(je.d)(),m=function(){t||L({username:i,password:b}).then((function(e){e&&e.accessToken?(n(!0),localStorage.setItem("token",e.accessToken),localStorage.setItem("username",i),O.success("Se ha logueado correctamente!")):(O.error("Revise usuario y/o contrase\xf1a"),n(!1),localStorage.removeItem("token"),localStorage.removeItem("username"))}))};return t?Object(u.jsxs)("h1",{children:["Bienvenido ",localStorage.getItem("username"),"!"]}):Object(u.jsxs)("div",{className:"container",children:[Object(u.jsx)("h1",{className:"form-step",children:" Login "}),Object(u.jsxs)("form",{id:"formLogin",children:[Object(u.jsxs)("div",{className:"row",children:[Object(u.jsx)(d,{value:"Nombre de usuario"}),Object(u.jsx)("div",{className:"col-75",children:Object(u.jsx)("input",{name:"nombre",type:"text",placeholder:"Username (dan2021)",value:i,onChange:function(e){return s(e.target.value)},onKeyPress:function(e){return function(e){if("Enter"===e.key){var t=e.target.form,n=Array.prototype.indexOf.call(t,e.target);t.elements[n+1].focus(),e.preventDefault()}}(e)}})})]}),Object(u.jsxs)("div",{className:"row",children:[Object(u.jsx)(d,{value:"Contrase\xf1a"}),Object(u.jsx)("div",{className:"col-75",children:Object(u.jsx)("input",{name:"password",type:"password",placeholder:"Password (dan2021)",value:b,onChange:function(e){return p(e.target.value)},onKeyPress:function(e){"Enter"===e.key&&m()}})})]})]}),Object(u.jsx)("div",{className:"row button-login",children:Object(u.jsx)("div",{children:Object(u.jsx)("button",{className:"btn-wide",onClick:m,children:"Ingresar"})})})]})},be=function(e){var t=e.obra,n=e.actualizarCampos,a=e.saveOrUpdate,c=e.clean,r=function(e){e.preventDefault();var t=e.target.name,a=e.target.value;e.target.validity.valid&&n(t,a)};return Object(u.jsxs)("form",{className:"form-box container",children:[Object(u.jsx)("h3",{children:"Obra"}),Object(u.jsxs)("div",{className:"row",children:[Object(u.jsx)(d,{value:"Descripci\xf3n"}),Object(u.jsx)("div",{className:"col-75",children:Object(u.jsx)("input",{name:"descripcion",value:t.descripcion,onChange:r})})]}),Object(u.jsxs)("div",{className:"row",children:[Object(u.jsx)(d,{value:"Latitud"}),Object(u.jsx)("div",{className:"col-75",children:Object(u.jsx)("input",{type:"text",pattern:"[0-9]*",name:"latitud",value:t.latitud,onChange:r})})]}),Object(u.jsxs)("div",{className:"row",children:[Object(u.jsx)(d,{value:"Longitud"}),Object(u.jsx)("div",{className:"col-75",children:Object(u.jsx)("input",{type:"text",pattern:"[0-9]*",name:"longitud",value:t.longitud,onChange:r})})]}),Object(u.jsxs)("div",{className:"row",children:[Object(u.jsx)(d,{value:"Direcci\xf3n"}),Object(u.jsx)("div",{className:"col-75",children:Object(u.jsx)("input",{name:"direccion",value:t.direccion,onChange:r})})]}),Object(u.jsxs)("div",{className:"row",children:[Object(u.jsx)(d,{value:"Superficie"}),Object(u.jsx)("div",{className:"col-75",children:Object(u.jsx)("input",{type:"text",pattern:"[0-9]*",name:"superficie",value:t.superficie,onChange:r})})]}),Object(u.jsxs)("div",{className:"row",children:[Object(u.jsx)(d,{value:"Tipo de Obra"}),Object(u.jsx)("div",{className:"col-75",children:Object(u.jsxs)("select",{name:"tipoObra",value:t.tipoObra,onChange:r,children:[Object(u.jsx)("option",{value:"REFORMA",children:"Reforma"}),Object(u.jsx)("option",{value:"CASA",children:"Casa"}),Object(u.jsx)("option",{value:"EDIFICIO",children:"Edificio"}),Object(u.jsx)("option",{value:"VIAL",children:"Vial"})]})})]}),Object(u.jsxs)("div",{className:"row",children:[Object(u.jsx)("div",{className:"col-50 ",children:Object(u.jsx)("button",{type:"button",onClick:c,children:"Limpiar"})}),Object(u.jsx)("div",{className:"col-50",children:Object(u.jsx)("button",{type:"button",onClick:a,children:"Guardar"})})]})]})},pe=function(e){var t=e.cliente,n=e.actualizarCampos,a=e.listaClientes,c=function(e){var t=e.target.name,a=e.target.value;e.target.validity.valid&&n(t,a)};return Object(u.jsxs)("form",{className:"form-box container",children:[Object(u.jsx)("h3",{children:"Cliente"}),Object(u.jsx)(j,{label:"Razon Social",placeholder:"Razon Social",name:"razonSocial",value:t.razonSocial,onChange:c,opciones:a.map((function(e){return e.razonSocial}))}),Object(u.jsx)(j,{label:"CUIT",placeholder:"CUIT",name:"cuit",value:t.cuit,onChange:c,opciones:a.map((function(e){return e.cuit}))})]})},Oe={id:null,razonSocial:"",cuit:""},me={id:null,descripcion:"",latitud:0,longitud:0,direccion:"",superficie:0,tipoObra:"",cliente:Oe},fe=function(){var e=Object(s.f)(),t=Object(c.useState)(me),n=Object(o.a)(t,2),r=n[0],i=n[1],j=Object(c.useState)(Oe),d=Object(o.a)(j,2),b=d[0],p=d[1],O=Object(c.useState)([]),g=Object(o.a)(O,2),N=g[0],k=g[1],w=Object(c.useState)([]),C=Object(o.a)(w,2),S=C[0],y=C[1];Object(c.useEffect)((function(){localStorage.getItem("token")?(E(),I()):e.push(De.login)}),[e]);var E=function(){ee().then((function(e){e&&k(e)}))},I=function(){R().then((function(e){e&&y(e)}))},P=["ID Obra","Descripcion","Direccion","Superficie","Tipo de Obra",""].map((function(e){return Object(u.jsx)(f,{children:e})}));return Object(u.jsxs)("div",{className:"box",children:[Object(u.jsx)("div",{children:Object(u.jsx)("h1",{children:"Gestion de Obras"})}),Object(u.jsxs)("div",{className:"panelForm",children:[Object(u.jsx)("div",{className:"panelFormAlta",children:Object(u.jsx)(be,{obra:r,actualizarCampos:function(e,t){var n=Object(a.a)(Object(a.a)({},r),{},Object(l.a)({},e,t));i(n)},clean:function(){i(me),p(Oe)},saveOrUpdate:function(){var e=function(){I()};r.id?q(r).then(e):U(r).then(e),i(me),p(Oe)}})}),Object(u.jsx)("div",{className:"panelFormBusqueda",children:Object(u.jsx)(pe,{cliente:b,actualizarCampos:function(e,t){var n=N.findIndex((function(n){return n[e]===t}));p(N[n]);var c=Object(a.a)(Object(a.a)({},r),{},{cliente:N[n]});i(c)},listaClientes:N})})]}),Object(u.jsx)("div",{className:"panel",children:Object(u.jsx)(m,{encabezado:P,filas:function(){return S?S.map((function(e,t){return Object(u.jsxs)(h,{children:[Object(u.jsx)(x,{dato:e.id}),Object(u.jsx)(x,{dato:e.descripcion}),Object(u.jsx)(x,{dato:e.direccion}),Object(u.jsx)(x,{dato:e.superficie}),Object(u.jsx)(x,{dato:e.tipoObra}),Object(u.jsx)(v,{titulo:"Seleccionar",accion:function(){i(e),p(e.cliente)}})]},t)})):Object(u.jsx)(u.Fragment,{})}})})]})},he=function(e){var t=e.producto,n=e.unidades,a=e.actualizarCampos,c=e.clean,r=e.saveOrUpdate,o=function(e){e.preventDefault();var t=e.target.name,n=e.target.value;e.target.validity.valid&&a(t,n)};return Object(u.jsxs)("form",{className:"form-box container",children:[Object(u.jsx)("h3",{children:"Producto"}),Object(u.jsx)(b,{label:"Nombre del Producto",name:"nombre",value:t.nombre,onChange:o}),Object(u.jsx)(b,{label:"Descripcion",name:"descripcion",value:t.descripcion,onChange:o}),Object(u.jsx)(b,{label:"Precio",name:"precio",pattern:"[0-9.]*",value:t.precio,onChange:o}),Object(u.jsx)(b,{label:"Stock Actual",name:"stockActual",pattern:"[0-9.]*",value:t.stockActual,onChange:o}),Object(u.jsx)(b,{label:"Stock Minimo",name:"stockMinimo",pattern:"[0-9.]*",value:t.stockMinimo,onChange:o}),Object(u.jsx)(j,{label:"Unidad",name:"unidad",value:t.unidad.descripcion,opciones:n?n.map((function(e){return e.descripcion})):[],onChange:o}),Object(u.jsxs)("div",{className:"row",children:[Object(u.jsx)("div",{className:"col-50 ",children:Object(u.jsx)("button",{type:"button",onClick:c,children:"Limpiar"})}),Object(u.jsx)("div",{className:"col-50",children:Object(u.jsx)("button",{type:"button",onClick:r,children:"Guardar"})})]})]})},xe={descripcion:""},ve={nombre:"",descripcion:"",precio:0,stockActual:0,stockMinimo:0,unidad:xe},ge=function(){var e=Object(s.f)(),t=(Object(je.d)(),Object(c.useState)(ve)),n=Object(o.a)(t,2),r=n[0],i=n[1],j=Object(c.useState)([]),d=Object(o.a)(j,2),b=d[0],p=d[1],O=Object(c.useState)([]),g=Object(o.a)(O,2),N=g[0],k=g[1];Object(c.useEffect)((function(){localStorage.getItem("token")?w():e.push(De.login)}),[e]);var w=function(){J().then((function(e){e&&p(e)})),ie("".concat(E,"/unidades")).then((function(e){e&&k(e)}))},C=["ID Producto","Nombre","Descripcion","Precio","Stock Actual","Stock Minimo",""].map((function(e,t){return Object(u.jsx)(f,{children:e},t)}));return Object(u.jsxs)("div",{className:"box",children:[Object(u.jsx)("div",{children:Object(u.jsx)("h1",{children:"Productos"})}),Object(u.jsx)("div",{className:"panel",children:Object(u.jsx)(he,{producto:r,unidades:N,actualizarCampos:function(e,t){"unidad"===e&&(t=Object(a.a)(Object(a.a)({},xe),{},{descripcion:t}));var n=Object(a.a)(Object(a.a)({},r),{},Object(l.a)({},e,t));i(n)},clean:function(){i(ve)},saveOrUpdate:function(){r.id?W(r).then((function(){return w()})):K(r).then((function(){return w()})),i(ve)}})}),Object(u.jsx)("div",{className:"panel",children:Object(u.jsx)(m,{encabezado:C,filas:function(){return b?b.map((function(e,t){return Object(u.jsxs)(h,{children:[Object(u.jsx)(x,{dato:e.id}),Object(u.jsx)(x,{dato:e.nombre}),Object(u.jsx)(x,{dato:e.descripcion}),Object(u.jsx)(x,{dato:e.precio}),Object(u.jsx)(x,{dato:e.stockActual}),Object(u.jsx)(x,{dato:e.stockMinimo}),Object(u.jsx)(v,{titulo:"Seleccionar",accion:function(){return i(e)}})]},t)})):Object(u.jsx)(u.Fragment,{})}})})]})},Ne=function(e){var t=e.pedido,n=e.actualizarCampos,a=e.clean,c=e.saveOrUpdate,r=e.verDetalle,o=e.obras,i=function(e){e.preventDefault();var t=e.target.name,a=e.target.value;e.target.validity.valid&&n(t,a)};return Object(u.jsxs)("form",{className:"form-box container",children:[Object(u.jsx)(b,{label:"Fecha",name:"fechaPedido",value:t.fechaPedido,onChange:i}),Object(u.jsx)(j,{label:"Obra",name:"obra",onChange:i,opciones:o.map((function(e){return e.id}))}),Object(u.jsx)(j,{label:"Estado",name:"estado",value:t.estado,onChange:i,opciones:["NUEVO","CONFIRMADO","PENDIENTE","CANCELADO","ACEPTADO","RECHAZADO","EN_PREPARACION","ENTREGADO"]}),Object(u.jsxs)("div",{className:"row",children:[Object(u.jsx)("div",{className:"col-25 ",children:Object(u.jsx)("button",{type:"button",onClick:a,children:"Limpiar"})}),Object(u.jsx)("div",{className:"col-50",children:Object(u.jsx)("button",{type:"button",onClick:r,children:"Ver Detalle"})}),Object(u.jsx)("div",{className:"col-25",children:Object(u.jsx)("button",{type:"button",onClick:c,children:"Guardar"})})]})]})},ke=function(e){var t,n,a=e.detallePedido,c=e.actualizarCampos,r=e.listaProductos,o=e.saveOrUpdate,i=function(e){var t=e.target.name,n=e.target.value;e.target.validity.valid&&c(t,n)};return Object(u.jsxs)("form",{className:"formbox container",children:[Object(u.jsx)(b,{label:"Cantidad",pattern:"[0-9.]*",name:"cantidad",value:a.cantidad,onChange:i}),Object(u.jsx)(b,{label:"Precio",name:"precio",readOnly:!0,value:(null!==(t=a.cantidad)&&void 0!==t?t:0)*(null!==(n=a.producto.precio)&&void 0!==n?n:1)}),Object(u.jsx)(j,{label:"Producto",name:"producto",onChange:i,value:a.producto.nombre,opciones:r.map((function(e){return e.nombre}))}),Object(u.jsxs)("div",{className:"row",children:[Object(u.jsx)("div",{className:"col-25"}),Object(u.jsx)("div",{className:"col-75",children:Object(u.jsx)("button",{className:"btn-wide",type:"button",onClick:o,children:"Guardar"})})]})]})},we={id:null,fechaPedido:"",obra:"",estado:"NUEVO",detalle:[]},Ce={id:null,cantidad:"",precio:0,producto:""},Se=function(){var e=Object(s.f)(),t=Object(c.useState)(we),n=Object(o.a)(t,2),r=n[0],i=n[1],j=Object(c.useState)([]),d=Object(o.a)(j,2),b=d[0],p=d[1],O=Object(c.useState)(Ce),g=Object(o.a)(O,2),N=g[0],k=g[1],w=Object(c.useState)([]),C=Object(o.a)(w,2),S=C[0],y=C[1],E=Object(c.useState)([]),I=Object(o.a)(E,2),P=I[0],z=I[1],A=Object(c.useState)([]),D=Object(o.a)(A,2),T=D[0],F=D[1];Object(c.useEffect)((function(){localStorage.getItem("token")?(L(),U(),q()):e.push(De.login)}),[b,S,e]);var L=function(){M().then((function(e){e&&p(e)}))},U=function(){J().then((function(e){e&&z(e)}))},q=function(){R().then((function(e){e&&F(e)}))},K=function(){i(we),y([]),k(Ce)},W=["ID Pedido","Fecha de Pedido","ID Obra","Estado"].map((function(e,t){return Object(u.jsx)(f,{children:e},t)})),X=function(e){i(e),y(e.detalle),k(Ce)},Z=S.map((function(e,t){return Object(u.jsxs)(h,{children:[Object(u.jsx)(x,{dato:e.id}),Object(u.jsx)(x,{dato:e.cantidad}),Object(u.jsx)(x,{dato:e.precio}),Object(u.jsx)(x,{dato:e.producto.nombre}),Object(u.jsx)(v,{titulo:"Eliminar",accion:function(){V(e).then((function(){return L()}))}}),Object(u.jsx)(v,{titulo:"Seleccionar",accion:function(){return k(e)}})]},t)})),Q=["ID Detalle","Cantidad","Precio","Producto","Eliminar","Seleccionar"].map((function(e,t){return Object(u.jsx)(f,{children:e},t)}));return Object(u.jsxs)("div",{className:"box",children:[Object(u.jsx)("div",{children:Object(u.jsx)("h1",{children:"Pedidos"})}),Object(u.jsxs)("div",{className:"panelForm",children:[Object(u.jsx)("div",{className:"panelFormAlta",children:Object(u.jsx)(Ne,{pedido:r,actualizarCampos:function(e,t){if("obra"===e){var n=T.findIndex((function(e){return e.id===t})),c=Object(a.a)(Object(a.a)({},r),{},{obra:T[n]});i(c)}else{var o=Object(a.a)(Object(a.a)({},r),{},Object(l.a)({},e,t));i(o)}},clean:K,saveOrUpdate:function(){r.id?_(r).then((function(){return L()})):G(r).then((function(){return L()})),K()},obras:T})}),Object(u.jsx)("div",{className:"panelFormAlta",children:Object(u.jsx)(ke,{detallePedido:N,listaProductos:P,actualizarCampos:function(e,t){if("producto"===e){var n,c=P.findIndex((function(e){return e.nombre===t})),r=Object(a.a)(Object(a.a)({},N),{},{producto:P[c],precio:(null!==(n=N.cantidad)&&void 0!==n?n:0)*(P[c]?P[c].precio:1)});k(r)}else{var o=Object(a.a)(Object(a.a)({},N),{},Object(l.a)({},e,t));k(o)}},saveOrUpdate:function(){N.id?H(N).then((function(){return L()})):B(N,r).then((function(){return L()}))}})})]}),Object(u.jsxs)("div",{className:"panel",children:[Object(u.jsx)("div",{children:Object(u.jsx)("h3",{children:"Detalle"})}),Object(u.jsx)(m,{encabezado:Q,filas:Z}),Object(u.jsx)("div",{children:Object(u.jsx)("h3",{children:"Pedidos"})}),Object(u.jsx)(m,{encabezado:W,filas:function(){if(!b)return Object(u.jsx)(u.Fragment,{});b.map((function(e,t){return Object(u.jsxs)(h,{children:[Object(u.jsx)(x,{dato:e.id}),Object(u.jsx)(x,{dato:e.fechaPedido}),Object(u.jsx)(x,{dato:e.obra.id}),Object(u.jsx)(x,{dato:e.estado}),Object(u.jsx)(v,{titulo:"Seleccionar",accion:function(){return X(e)}})]},t)}))}})]})]})},ye=function(){var e=Object(s.f)(),t=Object(c.useState)([]),n=Object(o.a)(t,2),a=n[0];n[1];Object(c.useEffect)((function(){localStorage.getItem("token")||e.push(De.login)}),[e]);var r=["ID Pedido","Fecha de Pedido","ID Obra","Estado",""].map((function(e){return Object(u.jsx)(f,{children:e})}));return Object(u.jsxs)("div",{className:"box",children:[Object(u.jsx)("div",{children:Object(u.jsx)("h1",{children:"Pagos"})}),Object(u.jsxs)("div",{className:"panel",children:[Object(u.jsx)("div",{children:Object(u.jsx)("h3",{children:"Pedidos"})}),Object(u.jsx)(m,{encabezado:r,filas:function(){return a?a.map((function(e,t){return Object(u.jsxs)(h,{children:[Object(u.jsx)(x,{dato:e.id}),Object(u.jsx)(x,{dato:e.fechaPedido}),Object(u.jsx)(x,{dato:e.obra}),Object(u.jsx)(x,{dato:e.estado}),Object(u.jsx)(v,{titulo:"Abonar",accion:function(){console.log("Abonar pedido listo")}})]},t)})):Object(u.jsx)(u.Fragment,{})}})]})]})},Ee=function(e){var t=e.empleado,n=e.actualizarCampos,a=e.listaEmpleados,c=e.liquidarTodos,r=e.liquidarEmpleado,o=e.actualizarCamposSueldo,i=e.actualizarSueldoEmpleado,s=e.sueldoEmpleado,l=function(e){var t=e.target.name,n=e.target.value;e.target.validity.valid&&o(t,n)};return Object(u.jsxs)("form",{className:"formbox-container",children:[Object(u.jsx)(j,{label:"Empleado",name:"nombre",value:t.nombre,onChange:function(e){var t=e.target.value;e.target.validity.valid&&n(t)},opciones:a.map((function(e){return e.nombre}))}),Object(u.jsx)(b,{label:"Monto",name:"monto",pattern:"[0-9.]*",value:s.monto,onChange:l}),Object(u.jsx)(b,{label:"Porcentaje de comision",name:"comision",pattern:"[0-9.]*",value:s.comision,onChange:l}),Object(u.jsxs)("div",{className:"row",children:[Object(u.jsx)("div",{className:"col-25"}),Object(u.jsx)("div",{className:"col-25",children:Object(u.jsx)("button",{type:"button",onClick:i,children:"Actualizar Sueldo"})}),Object(u.jsx)("div",{className:"col-25",children:Object(u.jsx)("button",{type:"button",onClick:r,children:"Liquidar Empleado"})}),Object(u.jsx)("div",{className:"col-25",children:Object(u.jsx)("button",{type:"button",onClick:c,children:"Liquidar a todos"})})]})]})},Ie={nombre:""},Pe={monto:0,comision:0},ze=function(){var e=Object(s.f)(),t=Object(c.useState)([]),n=Object(o.a)(t,2),r=n[0],i=n[1],j=Object(c.useState)([]),d=Object(o.a)(j,2),b=d[0],p=d[1],O=Object(c.useState)(Ie),v=Object(o.a)(O,2),g=v[0],N=v[1],k=Object(c.useState)(Pe),w=Object(o.a)(k,2),C=w[0],S=w[1],y=function(){X().then((function(e){e&&i(e)}))},E=function(e){$(e).then((function(e){e&&S(e)}))};Object(c.useState)((function(){localStorage.getItem("token")?(ae().then((function(e){e&&p(e)})),y()):e.push(De.login)}),[e]);var I=["ID Liquidacion","Empleado","Fecha","Monto"].map((function(e){return Object(u.jsx)(f,{children:e})}));return Object(u.jsxs)("div",{className:"box",children:[Object(u.jsx)("div",{children:Object(u.jsx)("h3",{children:"Liquidacion"})}),Object(u.jsx)("div",{className:"panelForm",children:Object(u.jsx)("div",{className:"panelFormAlta",children:Object(u.jsx)(Ee,{empleado:g,listaEmpleados:b,actualizarCampos:function(e){var t=b.findIndex((function(t){return t.nombre===e}));N(b[t]),E(b[t])},actualizarCamposSueldo:function(e,t){var n=Object(a.a)(Object(a.a)({},C),{},Object(l.a)({},e,t));S(n)},actualizarSueldoEmpleado:function(){console.log(C),Y(C).then((function(){E()}))},liquidarEmpleado:function(){Q(g).then((function(){return y()}))},liquidarTodos:function(){Z().then((function(){return y()}))},sueldoEmpleado:C})})}),Object(u.jsx)("div",{className:"panelForm",children:Object(u.jsx)(m,{encabezado:I,filas:function(){return r?r.map((function(e,t){return Object(u.jsxs)(h,{children:[Object(u.jsx)(x,{dato:e.id}),Object(u.jsx)(x,{dato:b[b.findIndex((function(t){return t.id===e.empleado.id}))].nombre}),Object(u.jsx)(x,{dato:e.fecha}),Object(u.jsx)(x,{dato:e.monto})]},t)})):Object(u.jsx)(u.Fragment,{})}})})]})},Ae=(n(70),function(e){var t=e.logout;return Object(u.jsx)("nav",{children:Object(u.jsxs)("ul",{className:"nav-links",children:[Object(u.jsx)(i.b,{className:"nav-links",to:De.clientes,children:Object(u.jsx)("li",{children:"Clientes"})}),Object(u.jsx)(i.b,{className:"nav-links",to:De.obras,children:Object(u.jsx)("li",{children:"Obras"})}),Object(u.jsx)(i.b,{className:"nav-links",to:De.pagos,children:Object(u.jsx)("li",{children:"Pagos"})}),Object(u.jsx)(i.b,{className:"nav-links",to:De.pedidos,children:Object(u.jsx)("li",{children:"Pedidos"})}),Object(u.jsx)(i.b,{className:"nav-links",to:De.productos,children:Object(u.jsx)("li",{children:"Productos"})}),Object(u.jsx)(i.b,{className:"nav-links",to:De.liquidacion,children:Object(u.jsx)("li",{children:"Liquidaci\xf3n"})}),Object(u.jsx)(i.b,{className:"nav-links",to:De.login,onClick:function(){return t()},children:Object(u.jsx)("li",{children:"Cerrar Sesi\xf3n"})})]})})}),De={login:"/",clientes:"/page/clientes",obras:"/page/obras",productos:"/page/productos",pedidos:"/page/pedidos",pagos:"/page/pagos",liquidacion:"/page/liquidacion",logout:"/logout"};var Te=function(){var e=Object(c.useState)(!1),t=Object(o.a)(e,2),n=t[0],a=t[1],r=Object(je.d)();return Object(c.useEffect)((function(){a(null!==localStorage.getItem("token")&&void 0!==localStorage.getItem("token"))}),[]),Object(u.jsx)("div",{className:"App",children:Object(u.jsxs)(i.a,{children:[n?Object(u.jsx)(Ae,{logout:function(){r.info("Sesi\xf3n cerrada"),a(!1),localStorage.removeItem("token")}}):Object(u.jsx)(u.Fragment,{}),Object(u.jsxs)(s.c,{children:[Object(u.jsx)(s.a,{exact:!0,path:De.login,children:Object(u.jsx)(de,{logged:n,setLogged:a})}),Object(u.jsx)(s.a,{path:De.clientes,component:ue}),Object(u.jsx)(s.a,{path:De.obras,component:fe}),Object(u.jsx)(s.a,{path:De.productos,component:ge}),Object(u.jsx)(s.a,{path:De.pedidos,component:Se}),Object(u.jsx)(s.a,{path:De.pagos,component:ye}),Object(u.jsx)(s.a,{path:De.liquidacion,component:ze})]})]})})},Fe=n(38),Le={position:je.b.BOTTOM_RIGHT,timeout:3e3,offset:"10px",transition:je.c.SCALE},Re=function(){return Object(u.jsx)(je.a,Object(a.a)(Object(a.a)({template:Fe.a},Le),{},{children:Object(u.jsx)(Te,{})}))};Object(r.render)(Object(u.jsx)(Re,{}),document.getElementById("root"))}},[[71,1,2]]]);
//# sourceMappingURL=main.c437fee6.chunk.js.map